// 移动端样式

@use "tokens/breakpoints" as *;

// 移动端基础
:root {
  --design-width: 375;
  --vw-ratio: calc(100 / var(--design-width));

  // 安全区域
  --safe-top: env(safe-area-inset-top, 0);
  --safe-bottom: env(safe-area-inset-bottom, 0);
  --safe-left: env(safe-area-inset-left, 0);
  --safe-right: env(safe-area-inset-right, 0);
}

// 移动端优化
@include max-md {
  body {
    -webkit-touch-callout: none;
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
    user-select: none;
  }

  // 防止 iOS 输入框缩放
  input,
  textarea,
  select {
    font-size: 16px;
  }
}

// 1px 边框解决方案
.hairline {
  position: relative;

  &::after {
    position: absolute;
    top: 0;
    left: 0;
    width: 200%;
    height: 200%;
    pointer-events: none;
    content: "";
    border: 1px solid var(--color-border);
    border-radius: inherit;
    transform: scale(0.5);
    transform-origin: 0 0;
  }
}

.hairline-top {
  position: relative;

  &::after {
    position: absolute;
    top: 0;
    right: 0;
    left: 0;
    height: 1px;
    content: "";
    background-color: var(--color-border);
    transform: scaleY(0.5);
    transform-origin: 0 0;
  }
}

.hairline-bottom {
  position: relative;

  &::after {
    position: absolute;
    right: 0;
    bottom: 0;
    left: 0;
    height: 1px;
    content: "";
    background-color: var(--color-border);
    transform: scaleY(0.5);
    transform-origin: 0 100%;
  }
}

// 安全区域
.safe-top {
  padding-top: var(--safe-top);
}

.safe-bottom {
  padding-bottom: var(--safe-bottom);
}

.safe-area-inset {
  padding-top: var(--safe-top);
  padding-right: var(--safe-right);
  padding-bottom: var(--safe-bottom);
  padding-left: var(--safe-left);
}

// 固定定位底部
.fixed-bottom {
  position: fixed;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: var(--z-fixed);
  padding-bottom: var(--safe-bottom);
}

// 移动端容器
.mobile-container {
  width: 100%;
  max-width: 100vw;
  min-height: 100vh;
  overflow-x: hidden;
}
